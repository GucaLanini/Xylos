<!DOCTYPE html>
<html lang="it">
<head>
   <meta charset="UTF-8">
   <title>City Pass</title>
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
   <link href="css/style.css" rel="stylesheet" type="text/css"> 
</head>
<body>
<div class="container-fluid bottom-150 top-175">    

    <div class="row justify-content-between">
        
        <a href="4_transports.html" class="col-auto g-0">
            <svg width="95" height="95" viewBox="0 0 95 95" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M50.3016 22.5913C51.8474 21.0455 51.8474 18.5392 50.3016 16.9934C48.7557 15.4475 46.2495 15.4475 44.7036 16.9934L16.9953 44.7017C15.4495 46.2475 15.4495 48.7538 16.9953 50.2996L44.7036 78.0079C46.2495 79.5538 48.7557 79.5538 50.3016 78.0079C51.8474 76.4621 51.8474 73.9558 50.3016 72.41L29.3505 51.459L75.2109 51.459C77.3971 51.459 79.1693 49.6868 79.1693 47.5007C79.1693 45.3145 77.3971 43.5423 75.2109 43.5423L29.3505 43.5423L50.3016 22.5913Z" fill="#C8F1F9"/>
            </svg>
        </a>

    <h1 class="col">City Pass</h1>
</div>
</div>

   
    <div class="container-fluid">
        <div class="row">
     <p class= "col bottom-150">Ottieni un <strong>Xylos City Pass</strong> e visita attrazioni imperdibili, musei , monumenti antichi, tour mozzafiato e trasporti tra le diverse zone di Xylos ad un prezzo ridotto. Permette di vivere l'esperienza unica di Xylos in modo comodo ed economico, esplorando le sue straordinarie attrazioni evitando le lunghe attese. Il biglietto è <strong>valido per un periodo limitato</strong> (1, 2 o 3 giorni), compreso il primo giorno di utilizzo.<br><br> L’abbonamento è acquistabile in tre formati: <strong>Singolo</strong>, <strong>Famiglia</strong> (per i nuclei composti da almeno due adulti e un bambino, e <strong>Gruppi</strong> (per i raggruppamenti di almeno cinque persone).</p>

    </div>
</div>
    <div class="">
      <div class="row">
         <h3 class="col m-bottom-100 space-620">Pacchetto</h3>
      </div>
    </div>
    <div class="container-fluid card-tariffs-container">
        <div class="row tariff-rows">
            <div class="col card-tariffs citypass-tariffs" data-unit-price="40"> <!-- Prezzi adulti -->
                <div class="row d-flex justify-content-center p-top-50">  
                        <svg width="151" height="150" viewBox="0 0 151 150" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_1100_15844)">
                        <path d="M75.0547 45.4453C82.7047 45.4453 88.9062 39.2438 88.9062 31.5937C88.9062 23.9437 82.7047 17.7422 75.0547 17.7422C67.4047 17.7422 61.2031 23.9437 61.2031 31.5937C61.2031 39.2438 67.4047 45.4453 75.0547 45.4453Z" stroke="#C8F1F9" stroke-width="8" stroke-linecap="round"/>
                        <path d="M59.7734 132.258V102.727C59.7775 102.001 59.627 101.283 59.332 100.62C59.037 99.9577 58.6042 99.3653 58.0625 98.8828L52.9297 94.1953C52.6633 93.9511 52.4507 93.6541 52.3054 93.3232C52.1601 92.9923 52.0854 92.6348 52.0859 92.2734V61.8047C52.0859 60.435 52.6284 59.1211 53.5947 58.1504C54.5611 57.1796 55.8725 56.6312 57.2422 56.625H90.2891C92.3425 56.6312 94.3097 57.4513 95.7595 58.9055C97.2093 60.3597 98.0234 62.3294 98.0234 64.3828V92.5078C98.0172 93.168 97.7667 93.8026 97.3203 94.2891L92.375 99.5625C91.4677 100.517 90.9639 101.785 90.9688 103.102V132.258" stroke="#C8F1F9" stroke-width="8" stroke-linecap="round"/>
                        </g>
                        <defs>
                        <clipPath id="clip0_1100_15844">
                        <rect width="150" height="150" fill="white" transform="translate(0.0546875)"/>
                        </clipPath>
                        </defs>
                        </svg>
   
                </div>
                <h3 class="row d-flex justify-content-center p-top-20">Adulti</h3> 
                
                <div class="row padding-70 p-top-20"> 
                    <p class="col d-flex justify-content-start">Prezzo (al giorno)</p> 
                    <p class="col d-flex justify-content-end">40€</p> 
                </div>
            
                <div class="counter counter-seniors d-flex justify-content-center citypass-counter">
                    <button class="counter-button minus counter-sign">-</button>
                    <span class="number">0</span>
                    <button class="counter-button plus counter-sign">+</button>
                </div>
            </div>
    
            <div class="col card-tariffs citypass-tariffs" data-unit-price="25"> <!-- Prezzi famiglia -->
                <div class="row d-flex justify-content-center p-top-50">  
                    <svg width="154" height="154" viewBox="0 0 154 154" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M23.5644 34.5451C32.0564 34.5451 38.9652 27.2461 38.9652 18.2737C38.9652 9.30014 32.057 2 23.5644 2C15.0728 2 8.16406 9.30014 8.16406 18.2737C8.16406 27.2461 15.0728 34.5451 23.5644 34.5451ZM23.5644 7.37702C29.2499 7.37702 33.8755 12.2654 33.8755 18.2737C33.8755 24.2803 29.2499 29.1681 23.5644 29.1681C17.8793 29.1681 13.2532 24.2809 13.2532 18.2737C13.2532 12.2654 17.8793 7.37702 23.5644 7.37702Z" fill="#C8F1F9" stroke="#C8F1F9" stroke-width="3"/>
                        <path d="M8.74133 100.882V149.308C8.74133 150.793 9.8807 151.997 11.2856 151.997C12.6911 151.997 13.8299 150.794 13.8299 149.308V99.4974C13.8299 99.4564 13.826 99.4154 13.8243 99.3744C13.8282 98.4089 13.3399 97.4726 12.4768 96.987C9.22127 95.1554 7.19911 91.6129 7.19911 87.7411V58.1856C7.19911 52.4175 11.6395 47.7253 17.0978 47.7253H30.1406C35.5989 47.7253 40.0393 52.418 40.0393 58.1856V87.7411C40.0393 91.6117 38.0154 95.1548 34.7583 96.987C33.8777 97.4822 33.3882 98.4458 33.4124 99.432C33.4118 99.454 33.4096 99.4748 33.4096 99.4968V149.308C33.4096 150.793 34.549 151.997 35.9545 151.997C37.36 151.997 38.4988 150.793 38.4988 149.308V100.877C42.6241 97.9435 45.129 93.0474 45.129 87.7411V58.1856C45.129 49.4528 38.4054 42.3477 30.1412 42.3477H17.0978C8.83304 42.3488 2.10938 49.454 2.10938 58.1868V87.7423C2.10938 93.0515 4.61486 97.9494 8.74133 100.882Z" fill="#C8F1F9" stroke="#C8F1F9" stroke-width="3"/>
                        <path d="M72.3144 71.283C80.8076 71.283 87.7169 63.9817 87.7169 55.0081C87.7169 46.0345 80.8076 38.7344 72.3144 38.7344C63.8228 38.7344 56.9141 46.0345 56.9141 55.0081C56.9141 63.9817 63.8228 71.283 72.3144 71.283ZM72.3144 44.1114C78.0011 44.1114 82.6277 48.9998 82.6277 55.0075C82.6277 61.0165 78.0011 65.9054 72.3144 65.9054C66.6293 65.9054 62.0032 61.0165 62.0032 55.0075C62.0038 48.9998 66.6293 44.1114 72.3144 44.1114Z" fill="#C8F1F9" stroke="#C8F1F9" stroke-width="3"/>
                        <path d="M61.5081 123.487V149.311C61.5081 150.796 62.6474 152 64.0529 152C65.4584 152 66.5972 150.796 66.5972 149.311V122.103C66.5972 122.061 66.5933 122.021 66.5916 121.98C66.5956 121.014 66.1072 120.079 65.2446 119.593C61.9875 117.76 59.9642 114.217 59.9642 110.347V94.9194C59.9642 89.1512 64.4052 84.459 69.8629 84.459H74.8845C80.3428 84.459 84.7832 89.1512 84.7832 94.9194V110.347C84.7832 114.217 82.7594 117.759 79.5028 119.594C78.6228 120.089 78.1333 121.052 78.1575 122.039C78.1575 122.06 78.1546 122.081 78.1546 122.103V149.311C78.1546 150.796 79.294 152 80.6995 152C82.105 152 83.2444 150.796 83.2444 149.311V123.483C87.368 120.547 89.8724 115.652 89.8724 110.347V94.9194C89.8724 86.1866 83.1487 79.082 74.8845 79.082H69.8629C61.5987 79.082 54.875 86.1866 54.875 94.9194V110.347C54.8744 115.655 57.381 120.553 61.5081 123.487Z" fill="#C8F1F9" stroke="#C8F1F9" stroke-width="3"/>
                        <path d="M123.847 43.0252C132.339 43.0252 139.248 35.7268 139.248 26.755C139.248 17.7791 132.339 10.4766 123.847 10.4766C115.355 10.4766 108.445 17.7791 108.445 26.755C108.445 35.7268 115.355 43.0252 123.847 43.0252ZM123.847 15.8536C129.533 15.8536 134.158 20.7443 134.158 26.755C134.158 32.761 129.532 37.6476 123.847 37.6476C118.161 37.6476 113.534 32.761 113.534 26.755C113.534 20.7443 118.161 15.8536 123.847 15.8536Z" fill="#C8F1F9" stroke="#C8F1F9" stroke-width="3"/>
                        <path d="M98.145 110.527H113.037V149.308C113.037 150.793 114.176 151.997 115.582 151.997C116.987 151.997 118.126 150.794 118.126 149.308V107.838C118.126 107.652 118.108 107.471 118.075 107.296C118.057 107.209 118.037 107.123 118.012 107.039C117.689 105.944 116.723 105.15 115.582 105.15H115.58H102.262L113.794 80.7798C113.971 80.407 114.063 79.9951 114.063 79.5777V66.5433C114.063 60.8411 118.456 56.2018 123.854 56.2018C129.252 56.2018 133.644 60.8411 133.644 66.5433V79.5777C133.644 79.9957 133.735 80.407 133.912 80.7798L145.444 105.15H132.23H132.229C131.087 105.15 130.12 105.944 129.799 107.039C129.774 107.123 129.753 107.209 129.736 107.296C129.702 107.471 129.684 107.652 129.684 107.838V149.308C129.684 150.793 130.823 151.997 132.229 151.997C133.634 151.997 134.774 150.794 134.774 149.308V110.527H149.561C150.443 110.527 151.262 110.045 151.726 109.252C152.189 108.46 152.231 107.47 151.838 106.636L138.733 78.9428V66.5427C138.733 57.8753 132.059 50.8242 123.855 50.8242C115.65 50.8242 108.974 57.8753 108.974 66.5427V78.9428L95.8702 106.636C95.4758 107.47 95.518 108.459 95.9816 109.252C96.4441 110.045 97.2633 110.527 98.145 110.527Z" fill="#C8F1F9" stroke="#C8F1F9" stroke-width="3"/>
                        </svg>
                </div>
                <h3 class="row d-flex justify-content-center p-top-20">Famiglia</h3> 
                
                <div class="row padding-70 p-top-20"> 
                    <p class="col-7 d-flex justify-content-start">Prezzo (al giorno)</p> 
                    <p class="col d-flex justify-content-end">25€</p> 
                </div>
            
                <div class="counter counter-seniors d-flex justify-content-center citypass-counter">
                    <button class="counter-button minus counter-sign">-</button>
                    <span class="number">0</span>
                    <button class="counter-button plus counter-sign">+</button>
                </div>
            </div>
    
            <div class="col card-tariffs citypass-tariffs" data-unit-price="30"> <!-- Prezzi anziani -->
                <div class="row d-flex justify-content-center p-top-50">  
                    <svg width="150" height="150" viewBox="0 0 150 150" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M74.7422 66.2813C81.9521 66.2813 87.7969 60.4365 87.7969 53.2266C87.7969 46.0167 81.9521 40.1719 74.7422 40.1719C67.5323 40.1719 61.6875 46.0167 61.6875 53.2266C61.6875 60.4365 67.5323 66.2813 74.7422 66.2813Z" stroke="#C8F1F9" stroke-width="8"/>
                        <path d="M101.156 102.516C101.15 95.5121 98.3652 88.7972 93.4129 83.8449C88.4606 78.8927 81.7457 76.1078 74.7422 76.1016C67.7367 76.1016 61.0182 78.8845 56.0646 83.8381C51.111 88.7917 48.3281 95.5102 48.3281 102.516H101.156Z" stroke="#C8F1F9" stroke-width="8"/>
                        <path d="M113.578 66.2813C120.788 66.2813 126.633 60.4365 126.633 53.2266C126.633 46.0167 120.788 40.1719 113.578 40.1719C106.368 40.1719 100.523 46.0167 100.523 53.2266C100.523 60.4365 106.368 66.2813 113.578 66.2813Z" stroke="#C8F1F9" stroke-width="8"/>
                        <path d="M109.852 102.516H139.992C139.992 95.5102 137.209 88.7917 132.256 83.8381C127.302 78.8845 120.584 76.1016 113.578 76.1016C109.254 76.0996 104.996 77.1621 101.18 79.1953" stroke="#C8F1F9" stroke-width="8"/>
                        <path d="M36.4219 66.2813C43.6318 66.2813 49.4766 60.4365 49.4766 53.2266C49.4766 46.0167 43.6318 40.1719 36.4219 40.1719C29.212 40.1719 23.3672 46.0167 23.3672 53.2266C23.3672 60.4365 29.212 66.2813 36.4219 66.2813Z" stroke="#C8F1F9" stroke-width="8"/>
                        <path d="M40.1484 102.516H10.0078C10.0078 95.5102 12.7907 88.7917 17.7443 83.8381C22.6979 78.8845 29.4164 76.1016 36.4219 76.1016C40.746 76.0996 45.004 77.1621 48.8203 79.1953" stroke="#C8F1F9" stroke-width="8"/>
                        </svg>
                </div>
                <h3 class="row d-flex justify-content-center p-top-20">Gruppi</h3> 
                
                <div class="row padding-70 p-top-20"> 
                    <p class="col-7 d-flex justify-content-start">Prezzo (al giorno)</p> 
                    <p class="col d-flex justify-content-end">30€</p> 
                </div>
                <div class="row">
                <div class="col counter counter-seniors d-flex justify-content-center citypass-counter">
                    <button class="counter-button minus counter-sign">-</button>
                    <span class="number">0</span>
                    <button class="counter-button plus counter-sign">+</button>
                </div>
                </div>
            </div>
    
        </div>
    </div>
            <h3 class="m-top-210 m-bottom-100">Durata</h3>
        <div class="container-fluid">
            <div class="row tariff-rows">
             <div role="button" class="col card-tariffs margin-50 citypass-tariffs citypass-hour bottom-150 timespan">
                 <h3 class="d-flex justify-content-center">24h</h3>
             </div>

     
             <div role="button" class="col card-tariffs margin-50 citypass-tariffs citypass-hour bottom-150 timespan">
               <h3 class="d-flex justify-content-center">48h</h3>
           </div>
       
     
           <div role="button" class="col card-tariffs citypass-tariffs citypass-hour bottom-150 timespan">
            <h3 class="d-flex justify-content-center">72h</h3>
        </div>
        </div>
    </div>

     <div class="d-flex justify-content-center"> 
        <a href="4.1.1_citypass-summary.html" class="button booking-btn">Prenota</a>  
    </div>

     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>

document.addEventListener('DOMContentLoaded', () => {
    const cityPassPrices = {};
    let currentTimeSpan = null;

    function updateCounter(button, increment) {
        const counter = button.closest('.counter').querySelector('.number');
        let currentValue = parseInt(counter.textContent, 10);

        if (increment) {
            currentValue = currentValue + 1;
        } else {
            currentValue = Math.max(0, currentValue - 1);
        }

        counter.textContent = currentValue;

        const category = button.closest('.citypass-tariffs').querySelector('h3').textContent.trim();

        if (!cityPassPrices[category]) {
            cityPassPrices[category] = {
                unitPrice: parseFloat(button.closest('.citypass-tariffs').dataset.unitPrice),
                quantity: 0,
                selectedDuration: null
            };
        }

        cityPassPrices[category].quantity = currentValue;

        if (currentValue > 0) {
            localStorage.setItem(`cityPassData-${category}`, JSON.stringify(cityPassPrices[category]));
        } else {
            localStorage.removeItem(`cityPassData-${category}`);
        }

        updateTotalPrice();
    }

    function updateTotalPrice() {
        let totalPrice = 0;

        console.log("Prezzi dei city pass:");

        Object.keys(cityPassPrices).forEach(category => {
            const cityPass = cityPassPrices[category];
            const categoryTotal = cityPass.quantity * cityPass.unitPrice;

            if (isNaN(cityPass.quantity) || isNaN(cityPass.unitPrice) || cityPass.quantity <= 0 || cityPass.unitPrice <= 0) {
                console.error(`Dati non validi per la categoria ${category}: quantity=${cityPass.quantity}, unitPrice=${cityPass.unitPrice}`);
                return; 
            }

            totalPrice += categoryTotal;

            console.log(`Categoria: ${category} - Prezzo unitario: ${cityPass.unitPrice}€ - Quantità: ${cityPass.quantity} - Totale: ${categoryTotal}€`);
        });

        console.log(`Prezzo totale: ${totalPrice}€`);

        localStorage.setItem('totalCityPassPrice', totalPrice);
    }

    const cards = document.querySelectorAll('.counter');

    cards.forEach(card => {
        const minusButton = card.querySelector('.minus');
        const plusButton = card.querySelector('.plus');
        const category = card.closest('.citypass-tariffs').querySelector('h3').textContent.trim();
        const unitPrice = parseFloat(card.closest('.citypass-tariffs').dataset.unitPrice);

        if (!cityPassPrices[category]) {
            cityPassPrices[category] = {
                unitPrice: unitPrice,
                quantity: 0,
                selectedDuration: null
            };
        }

        if (minusButton) {
            minusButton.addEventListener('click', () => {
                updateCounter(minusButton, false);
            });
        }

        if (plusButton) {
            plusButton.addEventListener('click', () => {
                updateCounter(plusButton, true);
            });
        }
    });

    const timeSpan = document.querySelectorAll('.timespan');
    timeSpan.forEach(card => {
        card.addEventListener('click', () => {
            if (currentTimeSpan) {
                currentTimeSpan.classList.remove('selected');
            }
            card.classList.add('selected');
            currentTimeSpan = card;

            const category = card.closest('.citypass-tariffs').querySelector('h3').textContent.trim();

            if (!cityPassPrices[category]) {
                cityPassPrices[category] = {
                    unitPrice: parseFloat(card.closest('.citypass-tariffs').dataset.unitPrice),
                    quantity: 1,
                    selectedDuration: null
                };
            }

            let durationValue = 0;
            switch (card.textContent.trim()) {
                case '24h':
                    durationValue = 1;
                    break;
                case '48h':
                    durationValue = 2;
                    break;
                case '72h':
                    durationValue = 3;
                    break;
                default:
                    durationValue = 0;
                    break;
            }

            cityPassPrices[category].selectedDuration = durationValue;

            // Aggiorna il localStorage con i nuovi dati
            localStorage.setItem(`cityPassData-${category}`, JSON.stringify(cityPassPrices[category]));
            localStorage.setItem('selectedCategory', category);

            console.log(`Durata selezionata per ${category}: ${durationValue} (${card.textContent.trim()})`);
        });
    });
});




</script>   
</body>
</html>